 -- book values insertion
CREATE PROCEDURE [dbo].[bookInsert](
   @BookName varchar(max),
   @Author varchar(max),
   @PublisDate datetime,
   @BookNumChar int
)
AS
BEGIN
   IF NOT EXISTS (SELECT * FROM Book WHERE BookName = @BookName)
   BEGIN
       insert into  [dbo].[Book] (BookName,Author,PublishDate,BookNumChar)
       VALUES (@BookName, @Author, @PublisDate, @BookNumChar);
   END
   
   SELECT @@ROWCOUNT AS Output;
END;
GO
------------------------------------------------------------------------------

-- word values insertion
CREATE PROCEDURE [dbo].[wordInsert](
	@wordVlaue varchar(max),
	@Value varchar(max),
	@BookID int,
	@Paragrath int,
	@Page varchar(4),
	@Line int,
	@Sentence int
)
AS
BEGIN
   
	DECLARE @WordID INT;
	IF NOT EXISTS (SELECT * FROM Word WHERE [Value] = @wordVlaue)
	BEGIN
		INSERT INTO dbo.Word ([Value],[Length]) VALUES (@Value,LEN(@Value));
		SET @WordID = @@IDENTITY;
	END
	ELSE
	BEGIN
		SELECT @WordID=WordID FROM Word WHERE [Value] = @wordVlaue;
	END
	-- word information values insertion into WordImfo table
	INSERT INTO  dbo.WordInfo (BookID,Line,WordID,Paragrath,Page,Sentence)
	VALUES (@BookID,@Line,@WordId,@Paragrath,@Page,@Sentence);
	
	SELECT @@ROWCOUNT AS Output;
END;
GO

---------------------------------------------------------------
-- word gruop values insertion 


CREATE PROCEDURE [dbo].[WordGroupInsertion](
   @GroupID INT,
   @GroupName varchar(max),
   @WordID int
)
AS
BEGIN
   IF NOT EXISTS (SELECT * FROM WordGroup WHERE GroupName = @GroupName)
   BEGIN
    insert into dbo.wordGroup (GroupID,GroupName,WordID)
      VALUES (@GroupID,@GroupName, @WordID);
   END
   
   SELECT @@ROWCOUNT AS Output;
END;
GO

---------------------------------------------------------------
-- phrase values insertion 


CREATE PROCEDURE [dbo].[WordPhraseInsertion](
   @PhraseID INT,
   @WordID int,
   @IndexInPhrase INT
)
AS
BEGIN
   IF NOT EXISTS (SELECT * FROM WordPhrase WHERE PhraseID = @PhraseID)
   BEGIN
    insert into dbo.WordPhrase (PhraseID,WordID,InsexInPhrase)
      VALUES (@PhraseID, null);
   END
   
   SELECT @@ROWCOUNT AS Output;
END;
GO

---------------------------------------------------------------
-- stat data insertion 
--INCOMPLETET


CREATE PROCEDURE [dbo].[bookInsert](
   @PhraseID INT,
   @WordID int,
   @IndexInPhrase INT
)
AS
BEGIN
   IF NOT EXISTS (SELECT * FROM WordGroup WHERE GroupName = @GroupName)
   BEGIN
    insert into dbo.WordPhrase (PhraseID,WordID)
      VALUES (@PhraseID, null);
   END
   
   SELECT @@ROWCOUNT AS Output;
END;
GO
