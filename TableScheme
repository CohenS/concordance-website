
CREATE TABLE Book
 (
    BookID        INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    BookName      VARCHAR NOT NULL,
    Author        VARCHAR NOT NULL,
    PublishDate   DATETIME DEFAULT CURRENT_TIMESTAMP,
    BookNumChar   INT NOT NULL,
    UNIQUE(BookName, Author),
);

CREATE TABLE  Word 
(
    WordID       INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Value        VARCHAR NOT NULL,
    Length       INT DEFAULT 0,
);

CREATE TABLE  wordGroup
 (
    GroupID      INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    GroupName    VARCHAR NOT NULL,
    WordID       INT NOT NULL,
    FOREIGN KEY  (WordID) REFERENCES Word,
);

CREATE TABLE WordPhrase
 (
    PhraseID     INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    WordID       INT NOT NULL,
    FOREIGN KEY  (WordID) REFERENCES Word,
);

CREATE TABLE BookStat
 (
    BookID           INT NOT NULL,
    AvgCharSentence  INT NOT NULL,
    AvgCharChapter   INT NOT NULL,
    AvgCharPage      INT NOT NULL,
    AvgCharBook      INT NOT NULL,
);

CREATE TABLE WordInfo
 (
    BookID           INT NOT NULL,
    Line             INT NOT NULL,
    WordID           INT NOT NULL,
    Paragrath        INT NOT NULL,
    Page             INT NOT NULL,
    Sentence         INT NOT NULL,
);

CREATE TABLE WordContained
 (
    BookID           INT NOT NULL,
    WordID           INT NOT NULL,
    Line             INT NOT NULL,
);

CREATE TRIGGER WordLength 
(
    AFTER INSERT
         ON word
         FOR EACH ROW
            BEGIN
             UPDATE word SET Length = LENGTH(name) WHERE WordID = new.WordID;
        END
);
   